(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4853],{4184:function(e,r){var t;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var a=typeof t;if("string"===a||"number"===a)e.push(t);else if(Array.isArray(t)&&t.length){var o=s.apply(null,t);o&&e.push(o)}else if("object"===a)for(var i in t)n.call(t,i)&&t[i]&&e.push(i)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(t=function(){return s}.apply(r,[]))||(e.exports=t)}()},7251:function(e,r,t){"use strict";var n=t(5893),s=(t(7294),t(1664));r.Z=function(e){var r=e.pageTitle,t=e.homePageUrl,a=e.homePageText,o=e.activePageText;return(0,n.jsxs)("div",{className:"page-title-area",children:[(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"page-title-content",children:[(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:t,children:(0,n.jsx)("a",{children:a})})}),(0,n.jsx)("li",{className:"active",children:o})]}),(0,n.jsx)("h2",{children:r})]})}),(0,n.jsx)("div",{className:"shape9",children:(0,n.jsx)("img",{src:"/images/shape8.svg",alt:"image"})})]})}},9634:function(e,r,t){"use strict";t.r(r);var n=t(5893),s=t(7757),a=t.n(s),o=t(5861),i=t(4942),c=t(269),l=t(7294),u=t(2286),p=t(9669),d=t.n(p),h=t(4264),v=t(2898),f=t(6955),m=t(8279),x=t(3800),j=t(7251),g=t(5943),w=t(4155);function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var N=function(e){var r=e.existingData,t=(0,u.parseCookies)().token,s={id:r.id,title:r.title,overview:r.overview,price:r.price,profilePhoto:"",coverPhoto:"",course_preview_img:"",course_preview_video:r.course_preview_video,duration:r.duration,lessons:r.lessons,category:r.category},p=l.useState(s),v=(0,c.Z)(p,2),b=v[0],N=v[1],_=l.useState(""),C=(0,c.Z)(_,2),P=C[0],O=C[1],Z=l.useState(""),E=(0,c.Z)(Z,2),k=E[0],T=E[1],M=l.useState(""),U=(0,c.Z)(M,2),L=U[0],R=U[1],z=l.useState(!1),D=(0,c.Z)(z,2),S=D[0],A=D[1],B=l.useState(!1),I=(0,c.Z)(B,2),F=I[0],V=I[1],$=l.useState(!0),q=(0,c.Z)($,2),Y=q[0],W=q[1],X=l.useState(),H=(0,c.Z)(X,2),K=H[0],G=H[1];l.useEffect((function(){var e=Object.values(b).every((function(e){return Boolean(e)}));W(!e)}),[b]);var J=function(e){var r=e.target,t=r.name,n=r.value,s=r.files;if("profilePhoto"===t){if(s[0].size/1024/1024>2)return addToast("The profile photo size greater than 2 MB. Make sure less than 2 MB.",{appearance:"error"}),void(e.target.value=null);N((function(e){return y(y({},e),{},{profilePhoto:s[0]})})),O(window.URL.createObjectURL(s[0]))}else if("coverPhoto"===t){if(s[0].size/1024/1024>2)return addToast("The cover photo size greater than 2 MB. Make sure less than 2 MB.",{appearance:"error"}),void(e.target.value=null);N((function(e){return y(y({},e),{},{coverPhoto:s[0]})})),T(window.URL.createObjectURL(s[0]))}else if("course_preview_img"===t){if(s[0].size/1024/1024>2)return addToast("The course preview omage size greater than 2 MB. Make sure less than 2 MB.",{appearance:"error"}),void(e.target.value=null);N((function(e){return y(y({},e),{},{course_preview_img:s[0]})})),R(window.URL.createObjectURL(s[0]))}else N((function(e){return y(y({},e),{},(0,i.Z)({},t,n))}))},Q=function(){var e=(0,o.Z)(a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),(r=new FormData).append("file",b.profilePhoto),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),!b.profilePhoto){e.next=9;break}return e.next=8,d().post(w.env.CLOUDINARY_URL,r);case 8:t=e.sent;case 9:return n=t.data.url,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,o.Z)(a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),(r=new FormData).append("file",b.coverPhoto),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),!b.coverPhoto){e.next=9;break}return e.next=8,d().post(w.env.CLOUDINARY_URL,r);case 8:t=e.sent;case 9:return n=t.data.url,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,o.Z)(a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),(r=new FormData).append("file",b.course_preview_img),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),!b.course_preview_img){e.next=9;break}return e.next=8,d().post(w.env.CLOUDINARY_URL,r);case 8:t=e.sent;case 9:return n=t.data.url,A(!1),V(!0),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,o.Z)(a().mark((function e(r){var n,s,o,i,c,l,u,p,v,f,j,g,w,y,N;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),e.prev=1,n="",s="",o="",!(b.profilePhoto&&b.coverPhoto&&b.course_preview_img)){e.next=18;break}return e.next=8,Q();case 8:return n=e.sent,e.next=11,ee();case 11:return s=e.sent,e.next=14,re();case 14:o=e.sent,n=n.replace(/^http:\/\//i,"https://"),s=s.replace(/^http:\/\//i,"https://"),o=o.replace(/^http:\/\//i,"https://");case 18:return i="".concat(h.Z,"/api/v1/courses/course/update"),c=b.id,l=b.title,u=b.overview,p=b.price,v=b.published,f=b.duration,j=b.lessons,g=b.category,w=b.course_preview_video,y={id:c,title:l,overview:u,price:p,published:v,duration:f,lessons:j,category:g,profile:n,cover:s,preview:o,course_preview_video:w},e.next=23,d().post(i,y,{headers:{Authorization:t}});case 23:N=e.sent,console.log(N.data),V(!1),m.ZP.success(N.data),e.next=34;break;case 29:e.prev=29,e.t0=e.catch(1),(0,x.Z)(e.t0,G),m.ZP.error(K),console.log(e.t0);case 34:return e.prev=34,V(!1),e.finish(34);case 37:case"end":return e.stop()}}),e,null,[[1,29,34,37]])})));return function(r){return e.apply(this,arguments)}}();return(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(j.Z,{pageTitle:"Teacher Course Create",homePageUrl:"/",homePageText:"Home",activePageText:"Teacher Course Create"}),(0,n.jsx)("div",{className:"ptb-100",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-4 col-lg-4",children:(0,n.jsx)("div",{className:"td-sidebar",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(g.Z,{href:"/teacher/courses",activeClassName:"active",children:(0,n.jsx)("a",{children:"My Courses"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(g.Z,{href:"/teacher/course/create",activeClassName:"active",children:(0,n.jsx)("a",{children:"Create A Course"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(g.Z,{href:"/teacher/courses/course-edit",activeClassName:"active",children:(0,n.jsx)("a",{children:"Edit My Course"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(g.Z,{href:"/teacher/course/upload-course-video",activeClassName:"active",children:(0,n.jsx)("a",{children:"Upload Course Video"})})})]})})}),(0,n.jsx)("div",{className:"col-md-8 col-lg-8",children:(0,n.jsxs)("div",{className:"border-box",children:[S&&(0,n.jsx)("h3",{className:"loading-spinner",children:(0,n.jsx)("div",{className:"d-table",children:(0,n.jsxs)("div",{className:"d-table-cell",children:[(0,n.jsx)(f.Z,{color:"primary"})," Image Uploading...."]})})}),F&&(0,n.jsx)("h3",{className:"loading-spinner",children:(0,n.jsx)("div",{className:"d-table",children:(0,n.jsxs)("div",{className:"d-table-cell",children:[(0,n.jsx)(f.Z,{color:"success"})," Wait...."]})})}),(0,n.jsxs)("form",{onSubmit:te,children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Title"}),(0,n.jsx)("input",{type:"text",placeholder:"Enter course title",className:"form-control",name:"title",value:b.title,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Overview"}),(0,n.jsx)("textarea",{type:"text",placeholder:"Enter course overview",className:"form-control",name:"overview",rows:"10",value:b.overview,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Price"}),(0,n.jsx)("input",{type:"number",placeholder:"Enter course price",className:"form-control",name:"price",value:b.price,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Lessons"}),(0,n.jsx)("input",{type:"text",placeholder:"30 Lessons",className:"form-control",name:"lessons",value:b.lessons,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Duration (Whole numbers of hours & minutes)"}),(0,n.jsx)("input",{type:"text",placeholder:"10 hours 30 minutes",className:"form-control",name:"duration",value:b.duration,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Categories"}),(0,n.jsx)("input",{type:"text",placeholder:"React, Ruby, Rails",className:"form-control",name:"category",value:b.category,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Course Profile (",(0,n.jsx)("i",{children:"Image less than 2 MB & size 50x50"}),")"]}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"file",name:"profilePhoto",accept:"image/*",onChange:J}),(0,n.jsx)("br",{}),(0,n.jsx)("img",{src:P,className:"mxw-200 mt-20"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Course Cover Photo (",(0,n.jsx)("i",{children:"Image less than 2 MB & size 1920x500"}),")"]}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"file",name:"coverPhoto",accept:"image/*",onChange:J}),(0,n.jsx)("br",{}),(0,n.jsx)("img",{src:k,className:"mxw-200 mt-20"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Preview Video URL"}),(0,n.jsx)("input",{type:"text",placeholder:"https://www.youtube.com/watch?v=Ke90Tje7VS0",className:"form-control",name:"course_preview_video",value:b.course_preview_video,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Course Preview Image (",(0,n.jsx)("i",{children:"Image less than 2 MB & size 750x500"}),")"]}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"file",name:"course_preview_img",accept:"image/*",onChange:J}),(0,n.jsx)("br",{}),(0,n.jsx)("img",{src:L,className:"mxw-200 mt-20"})]}),(0,n.jsxs)("button",{className:"default-btn",disabled:S||Y||F,type:"submit",children:[(0,n.jsx)("i",{className:"flaticon-right-chevron"}),"Update",S||F?(0,n.jsx)(f.Z,{color:"success"}):"",(0,n.jsx)("span",{})]})]})]})})]})})})]})};N.getInitialProps=function(){var e=(0,o.Z)(a().mark((function e(r){var t,n,s,o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.parseCookies)(r),(n=t.token)||(0,v.a0)(r,"/"),s=r.query.id,o={headers:{Authorization:n}},i="".concat(h.Z,"/api/v1/courses/").concat(s),e.next=7,d().get(i,o);case 7:return c=e.sent,e.abrupt("return",c.data);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),r.default=N},3800:function(e,r){"use strict";r.Z=function(e,r){var t;e.response?(t=e.response.data,e.response.data.error&&(t=e.response.data.error.message)):e.request&&(t=e.request),r(t)}},7749:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teacher/course/[id]",function(){return t(9634)}])},6955:function(e,r,t){"use strict";var n=t(7462),s=t(3366),a=t(7294),o=t(5697),i=t.n(o),c=t(4184),l=t.n(c),u=t(3663),p={tag:u.iC,type:i().string,size:i().string,color:i().string,className:i().string,cssModule:i().object,children:i().string},d=function(e){var r=e.className,t=e.cssModule,o=e.type,i=e.size,c=e.color,p=e.children,d=e.tag,h=(0,s.Z)(e,["className","cssModule","type","size","color","children","tag"]),v=(0,u.mx)(l()(r,!!i&&"spinner-"+o+"-"+i,"spinner-"+o,!!c&&"text-"+c),t);return a.createElement(d,(0,n.Z)({role:"status"},h,{className:v}),p&&a.createElement("span",{className:(0,u.mx)("sr-only",t)},p))};d.propTypes=p,d.defaultProps={tag:"div",type:"border",children:"Loading..."},r.Z=d},3663:function(e,r,t){"use strict";t.d(r,{mx:function(){return o},CE:function(){return i},ei:function(){return c},O4:function(){return u},iC:function(){return d},wF:function(){return h},rb:function(){return v}});var n,s=t(5697),a=t.n(s);function o(e,r){return void 0===e&&(e=""),void 0===r&&(r=n),r?e.split(" ").map((function(e){return r[e]||e})).join(" "):e}function i(e,r){var t={};return Object.keys(e).forEach((function(n){-1===r.indexOf(n)&&(t[n]=e[n])})),t}function c(e,r){for(var t,n=Array.isArray(r)?r:[r],s=n.length,a={};s>0;)a[t=n[s-=1]]=e[t];return a}var l={};function u(e){l[e]||("undefined"!==typeof console&&console.error(e),l[e]=!0)}var p="object"===typeof window&&window.Element||function(){};a().oneOfType([a().string,a().func,function(e,r,t){if(!(e[r]instanceof p))return new Error("Invalid prop `"+r+"` supplied to `"+t+"`. Expected prop to be an instance of Element. Validation failed.")},a().shape({current:a().any})]);var d=a().oneOfType([a().func,a().string,a().shape({$$typeof:a().symbol,render:a().func}),a().arrayOf(a().oneOfType([a().func,a().string,a().shape({$$typeof:a().symbol,render:a().func})]))]),h={Fade:150,Collapse:350,Modal:300,Carousel:600},v=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"];"undefined"===typeof window||!window.document||window.document.createElement}},function(e){e.O(0,[9774,2888,179],(function(){return r=7749,e(e.s=r);var r}));var r=e.O();_N_E=r}]);