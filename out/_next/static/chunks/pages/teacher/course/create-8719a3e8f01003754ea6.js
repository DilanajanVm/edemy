(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7057],{4184:function(e,r){var t;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var a=typeof t;if("string"===a||"number"===a)e.push(t);else if(Array.isArray(t)&&t.length){var o=s.apply(null,t);o&&e.push(o)}else if("object"===a)for(var i in t)n.call(t,i)&&t[i]&&e.push(i)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(t=function(){return s}.apply(r,[]))||(e.exports=t)}()},7251:function(e,r,t){"use strict";var n=t(5893),s=(t(7294),t(1664));r.Z=function(e){var r=e.pageTitle,t=e.homePageUrl,a=e.homePageText,o=e.activePageText;return(0,n.jsxs)("div",{className:"page-title-area",children:[(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"page-title-content",children:[(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:t,children:(0,n.jsx)("a",{children:a})})}),(0,n.jsx)("li",{className:"active",children:o})]}),(0,n.jsx)("h2",{children:r})]})}),(0,n.jsx)("div",{className:"shape9",children:(0,n.jsx)("img",{src:"/images/shape8.svg",alt:"image"})})]})}},9559:function(e,r,t){"use strict";t.r(r);var n=t(5893),s=t(7757),a=t.n(s),o=t(5861),i=t(4942),c=t(269),l=t(7294),u=t(2286),p=t(9669),d=t.n(p),h=t(6955),f=t(8279),v=t(1163),m=t(4264),x=t(3800),j=t(7251),g=t(5943),w=t(4155);function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var N={title:"",overview:"",price:0,profilePhoto:"",published:!0,coverPhoto:"",course_preview_img:"",course_preview_video:"",duration:"",lessons:"",category:""};r.default=function(){var e=(0,u.parseCookies)().token,r=(0,v.useRouter)(),t=l.useState(N),s=(0,c.Z)(t,2),p=s[0],b=s[1],C=l.useState(""),_=(0,c.Z)(C,2),P=_[0],O=_[1],Z=l.useState(""),E=(0,c.Z)(Z,2),k=E[0],T=E[1],M=l.useState(""),R=(0,c.Z)(M,2),U=R[0],L=R[1],z=l.useState(!1),D=(0,c.Z)(z,2),S=D[0],B=D[1],A=l.useState(!1),I=(0,c.Z)(A,2),F=I[0],V=I[1],$=l.useState(!0),Y=(0,c.Z)($,2),q=Y[0],W=Y[1],X=l.useState(),H=(0,c.Z)(X,2),K=H[0],G=H[1];l.useEffect((function(){var e=Object.values(p).every((function(e){return Boolean(e)}));W(!e)}),[p]);var J=function(e){var r=e.target,t=r.name,n=r.value,s=r.files;if("profilePhoto"===t){if(s[0].size/1024/1024>2)return addToast("The profile photo size greater than 2 MB. Make sure less than 2 MB.",{appearance:"error"}),void(e.target.value=null);b((function(e){return y(y({},e),{},{profilePhoto:s[0]})})),O(window.URL.createObjectURL(s[0]))}else if("coverPhoto"===t){if(s[0].size/1024/1024>2)return addToast("The cover photo size greater than 2 MB. Make sure less than 2 MB.",{appearance:"error"}),void(e.target.value=null);b((function(e){return y(y({},e),{},{coverPhoto:s[0]})})),T(window.URL.createObjectURL(s[0]))}else if("course_preview_img"===t){if(s[0].size/1024/1024>2)return addToast("The course preview omage size greater than 2 MB. Make sure less than 2 MB.",{appearance:"error"}),void(e.target.value=null);b((function(e){return y(y({},e),{},{course_preview_img:s[0]})})),L(window.URL.createObjectURL(s[0]))}else b((function(e){return y(y({},e),{},(0,i.Z)({},t,n))}))},Q=function(){var e=(0,o.Z)(a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(!0),(r=new FormData).append("file",p.profilePhoto),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),!p.profilePhoto){e.next=9;break}return e.next=8,d().post(w.env.CLOUDINARY_URL,r);case 8:t=e.sent;case 9:return n=t.data.url,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,o.Z)(a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(!0),(r=new FormData).append("file",p.coverPhoto),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),!p.coverPhoto){e.next=9;break}return e.next=8,d().post(w.env.CLOUDINARY_URL,r);case 8:t=e.sent;case 9:return n=t.data.url,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,o.Z)(a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(!0),(r=new FormData).append("file",p.course_preview_img),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),!p.course_preview_img){e.next=9;break}return e.next=8,d().post(w.env.CLOUDINARY_URL,r);case 8:t=e.sent;case 9:return n=t.data.url,B(!1),V(!0),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var t=(0,o.Z)(a().mark((function t(n){var s,o,i,c,l,u,h,v,j,g,w,y,C,_;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,s="",o="",i="",!(p.profilePhoto&&p.coverPhoto&&p.course_preview_img)){t.next=18;break}return t.next=8,Q();case 8:return s=t.sent,t.next=11,ee();case 11:return o=t.sent,t.next=14,re();case 14:i=t.sent,s=s.replace(/^http:\/\//i,"https://"),o=o.replace(/^http:\/\//i,"https://"),i=i.replace(/^http:\/\//i,"https://");case 18:return c="".concat(m.Z,"/api/v1/courses/course/new"),l=p.title,u=p.overview,h=p.price,v=p.published,j=p.duration,g=p.lessons,w=p.category,y=p.course_preview_video,C={title:l,overview:u,price:h,published:v,duration:j,lessons:g,category:w,profile:s,cover:o,preview:i,course_preview_video:y},t.next=23,d().post(c,C,{headers:{Authorization:e}});case 23:_=t.sent,V(!1),b(N),O(""),T(""),L(""),f.ZP.success(_.data),r.replace("/teacher/course/upload-course-video"),t.next=37;break;case 33:t.prev=33,t.t0=t.catch(1),(0,x.Z)(t.t0,G),f.ZP.error(K);case 37:return t.prev=37,V(!1),t.finish(37);case 40:case"end":return t.stop()}}),t,null,[[1,33,37,40]])})));return function(e){return t.apply(this,arguments)}}();return(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(j.Z,{pageTitle:"Teacher Course Create",homePageUrl:"/",homePageText:"Home",activePageText:"Teacher Course Create"}),(0,n.jsx)("div",{className:"ptb-100",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-4 col-lg-4",children:(0,n.jsx)("div",{className:"td-sidebar",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(g.Z,{href:"/teacher/courses",activeClassName:"active",children:(0,n.jsx)("a",{children:"My Courses"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(g.Z,{href:"/teacher/course/create",activeClassName:"active",children:(0,n.jsx)("a",{children:"Create A Course"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(g.Z,{href:"/teacher/courses/course-edit",activeClassName:"active",children:(0,n.jsx)("a",{children:"Edit My Course"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(g.Z,{href:"/teacher/course/upload-course-video",activeClassName:"active",children:(0,n.jsx)("a",{children:"Upload Course Video"})})})]})})}),(0,n.jsx)("div",{className:"col-md-8 col-lg-8",children:(0,n.jsxs)("div",{className:"border-box",children:[S&&(0,n.jsx)("h3",{className:"loading-spinner",children:(0,n.jsx)("div",{className:"d-table",children:(0,n.jsxs)("div",{className:"d-table-cell",children:[(0,n.jsx)(h.Z,{color:"primary"})," Image Uploading...."]})})}),F&&(0,n.jsx)("h3",{className:"loading-spinner",children:(0,n.jsx)("div",{className:"d-table",children:(0,n.jsxs)("div",{className:"d-table-cell",children:[(0,n.jsx)(h.Z,{color:"success"})," Wait...."]})})}),(0,n.jsxs)("form",{onSubmit:te,children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Title"}),(0,n.jsx)("input",{type:"text",placeholder:"Enter course title",className:"form-control",name:"title",value:p.title,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Overview"}),(0,n.jsx)("textarea",{type:"text",placeholder:"Enter course overview",className:"form-control",name:"overview",rows:"10",value:p.overview,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Price"}),(0,n.jsx)("input",{type:"number",placeholder:"Enter course price",className:"form-control",name:"price",value:p.price,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Lessons"}),(0,n.jsx)("input",{type:"text",placeholder:"30 Lessons",className:"form-control",name:"lessons",value:p.lessons,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Duration (Whole numbers of hours & minutes)"}),(0,n.jsx)("input",{type:"text",placeholder:"10 hours 30 minutes",className:"form-control",name:"duration",value:p.duration,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Categories"}),(0,n.jsx)("input",{type:"text",placeholder:"React, Ruby, Rails",className:"form-control",name:"category",value:p.category,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Course Profile (",(0,n.jsx)("i",{children:"Image less than 2 MB & size 750x500"}),")"]}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"file",name:"profilePhoto",accept:"image/*",onChange:J}),(0,n.jsx)("br",{}),(0,n.jsx)("img",{src:P,className:"mxw-200 mt-20"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Course Cover Photo (",(0,n.jsx)("i",{children:"Image less than 2 MB & size 1920x500"}),")"]}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"file",name:"coverPhoto",accept:"image/*",onChange:J}),(0,n.jsx)("br",{}),(0,n.jsx)("img",{src:k,className:"mxw-200 mt-20"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Course Preview Video URL"}),(0,n.jsx)("input",{type:"text",placeholder:"https://www.youtube.com/watch?v=Ke90Tje7VS0",className:"form-control",name:"course_preview_video",value:p.course_preview_video,onChange:J})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Course Preview Image (",(0,n.jsx)("i",{children:"Image less than 2 MB & size 750x500"}),")"]}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"file",name:"course_preview_img",accept:"image/*",onChange:J}),(0,n.jsx)("br",{}),(0,n.jsx)("img",{src:U,className:"mxw-200 mt-20"})]}),(0,n.jsxs)("button",{className:"default-btn",disabled:S||q||F,type:"submit",children:[(0,n.jsx)("i",{className:"flaticon-right-chevron"}),"Create",S||F?(0,n.jsx)(h.Z,{color:"success"}):"",(0,n.jsx)("span",{})]})]})]})})]})})})]})}},3800:function(e,r){"use strict";r.Z=function(e,r){var t;e.response?(t=e.response.data,e.response.data.error&&(t=e.response.data.error.message)):e.request&&(t=e.request),r(t)}},5671:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teacher/course/create",function(){return t(9559)}])},6955:function(e,r,t){"use strict";var n=t(7462),s=t(3366),a=t(7294),o=t(5697),i=t.n(o),c=t(4184),l=t.n(c),u=t(3663),p={tag:u.iC,type:i().string,size:i().string,color:i().string,className:i().string,cssModule:i().object,children:i().string},d=function(e){var r=e.className,t=e.cssModule,o=e.type,i=e.size,c=e.color,p=e.children,d=e.tag,h=(0,s.Z)(e,["className","cssModule","type","size","color","children","tag"]),f=(0,u.mx)(l()(r,!!i&&"spinner-"+o+"-"+i,"spinner-"+o,!!c&&"text-"+c),t);return a.createElement(d,(0,n.Z)({role:"status"},h,{className:f}),p&&a.createElement("span",{className:(0,u.mx)("sr-only",t)},p))};d.propTypes=p,d.defaultProps={tag:"div",type:"border",children:"Loading..."},r.Z=d},3663:function(e,r,t){"use strict";t.d(r,{mx:function(){return o},CE:function(){return i},ei:function(){return c},O4:function(){return u},iC:function(){return d},wF:function(){return h},rb:function(){return f}});var n,s=t(5697),a=t.n(s);function o(e,r){return void 0===e&&(e=""),void 0===r&&(r=n),r?e.split(" ").map((function(e){return r[e]||e})).join(" "):e}function i(e,r){var t={};return Object.keys(e).forEach((function(n){-1===r.indexOf(n)&&(t[n]=e[n])})),t}function c(e,r){for(var t,n=Array.isArray(r)?r:[r],s=n.length,a={};s>0;)a[t=n[s-=1]]=e[t];return a}var l={};function u(e){l[e]||("undefined"!==typeof console&&console.error(e),l[e]=!0)}var p="object"===typeof window&&window.Element||function(){};a().oneOfType([a().string,a().func,function(e,r,t){if(!(e[r]instanceof p))return new Error("Invalid prop `"+r+"` supplied to `"+t+"`. Expected prop to be an instance of Element. Validation failed.")},a().shape({current:a().any})]);var d=a().oneOfType([a().func,a().string,a().shape({$$typeof:a().symbol,render:a().func}),a().arrayOf(a().oneOfType([a().func,a().string,a().shape({$$typeof:a().symbol,render:a().func})]))]),h={Fade:150,Collapse:350,Modal:300,Carousel:600},f=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"];"undefined"===typeof window||!window.document||window.document.createElement}},function(e){e.O(0,[9774,2888,179],(function(){return r=5671,e(e.s=r);var r}));var r=e.O();_N_E=r}]);